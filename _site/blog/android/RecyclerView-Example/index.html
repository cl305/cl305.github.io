<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="blogging mainly for tech. Opinions expressed are mine." />
    <meta name="author" content="Solanki" />
    <meta name="keywords" content="android, java, wordpress, kakcho, maharaja, surajmal, phoenix, bal bharati public school" />
    <link rel="canonical" href="https://cl305.github.io/blog/android/RecyclerView-Example/">
    
    <title>[ Cody Li ]  | Android RecyclerView Made Easy: Twoway View</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/css/grayscale.min.css" rel="stylesheet">
    <link href="/css/timeline.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon-fighter-jet.ico">
    <meta name="google-site-verification" content="eSWPP03sapHtQNtIHOBb27QAgbIK8wL1kZw7O2broaU" />
    <script type="text/javascript">
   
if ((window.location.protocol != "https:")&&(window.location.hostname=="cl305.github.io")){
  console.log(window.location.protocol);
  console.log(window.location);
  var url = window.location.href;
  url = url.toString().replace("http:", "https:");
  console.log(window.location.href);
  window.location.replace(url);
}
    </script>

</head>


  <body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

  <!-- Navigation -->
<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                <i class="fa fa-bars"></i>
            </button>
            
              <a class="navbar-brand page-scroll" href="/index.html#page-top">
            
            <div><img src="/img/favicon-space-shuttle.ico" alt="">  [ Cody Li ]</div>
          </a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
            <ul class="nav navbar-nav">
                <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                
                  <!-- Blog, Post, Tag pages-->
                  
                    
                      <li>
                        <a class="page-scroll" href="/#about"> About </a>
                      </li>
                    
                  
                    
                      <li>
                        <a class="page-scroll" href="/#repos"> Repos </a>
                      </li>
                    
                  
                    
                      <li>
                        <a class="page-scroll" href="/blog/"> Blog </a>
                      </li>
                    
                  
                    
                      <li>
                        <a class="page-scroll" href="/#tech"> Tech </a>
                      </li>
                    
                  
                    
                      <li>
                        <a class="page-scroll" href="/#career"> Career </a>
                      </li>
                    
                  
                    
                      <li>
                        <a class="page-scroll" href="/#contact"> Contact </a>
                      </li>
                    
                  

                

            </ul>
        </div>
    </div>
</nav>


  <section id="Android RecyclerView Made Easy: Twoway View" class="container content-section text-center">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">

        <h1><strong>Android RecyclerView Made Easy: Twoway View</strong></h1>
      	<h4><strong>27 Sep 2015</strong>
          <small> . Android . <a href="/blog/android/RecyclerView-Example/#disqus_thread">Comments</a><p/>
          
            <a href="/tags/Android.html">#Android</a>
          
          </small>
        </h4>

      	<td class="normal" valign="top">With the new Android 5 update Google rolled out many new Views and UI Changes.  &lt;h3&gt;&lt;strong&gt;The Odd Name&lt;/strong&gt;&lt;/h3&gt;  Google Describes RecyclerView as:  &lt;blockquote&gt;A flexible view for providing a limited window into a large data set.&lt;/blockquote&gt;  &lt;!--more--&gt;  in its API Documentation. RecyclerView is basically an upgrade to the ListView. Let&#39;s assume a View with multiple similar child views like Contacts, Folders, Messages. As soon as a user scrolls a currently visible item out of view, this item’s view can be recycled and reused whenever a new item comes into view.Here is when recycling and reuse comes into play.  Now that you have a brief idea about what is &lt;em&gt;RecyclerView&lt;/em&gt;, Let&#39;s jump to &lt;strong&gt;TwoWayView&lt;/strong&gt;. &lt;strong&gt;TwoWayView&lt;/strong&gt; is &lt;strong&gt;Lucas Rocha&#39;s&lt;/strong&gt; Project that simplifies the RecyclerView implementation. For most of the cases the default layouts provided in the TwoWayView should suffice, Custom LayoutManagers are also Supported. Which are simpler to write using TwoWayView framework than with the base RecyclerView. Using it helps you get rid of some of RecyclerView‘s complexity like specicfied above.  &lt;h3&gt;&lt;strong&gt;Getting Started&lt;/strong&gt;&lt;/h3&gt;  In this tutorial we are going to create a Custom RecyclerView with the Help of TwoWayView Library, with Search Functionality.  &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.quasar_academy.twowayview&quot;&gt;   &lt;img alt=&quot;Get it on Google Play&quot; src=&quot;https://developer.android.com/images/brand/en_generic_rgb_wo_60.png&quot; /&gt; &lt;/a&gt;  &lt;a href=&quot;http://quasar-academy.com/wp-content/uploads/2014/11/DFG_2014-11-23-12-34-46.png&quot;&gt;&lt;img src=&quot;http://quasar-academy.com/wp-content/uploads/2014/11/DFG_2014-11-23-12-34-46-605x1024.png&quot; alt=&quot;DFG_2014-11-23-12-34-46&quot; width=&quot;605&quot; height=&quot;1024&quot; class=&quot;alignnone size-large wp-image-663&quot; data-wp-pid=&quot;663&quot; /&gt;&lt;/a&gt;  &lt;ol class=&quot;simple-list&quot;&gt; &lt;li&gt;&lt;h4&gt;&lt;strong&gt;Creating a New Project&lt;/strong&gt;&lt;/h4&gt;  &lt;ul class=&quot;list-group&quot;&gt;        &lt;li class=&quot;list-group-item&quot;&gt;Application Name: twowayview&lt;/li&gt;        &lt;li class=&quot;list-group-item&quot;&gt;Comapany Domain: quasar-academy.com&lt;/li&gt;        &lt;li class=&quot;list-group-item&quot;&gt;Set Min SDK to 14&lt;/li&gt;        &lt;li class=&quot;list-group-item&quot;&gt;Create a Blank Activity with Fragment.&lt;/li&gt;        &lt;li class=&quot;list-group-item&quot;&gt;Finish with the New Project Wizard&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt;  &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Adding Dependecies to you&#39;re project&lt;/strong&gt;&lt;/h4&gt;  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;repositories {     maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; } } dependencies { compile &#39;org.lucasr.twowayview:core:1.0.0-SNAPSHOT@aar&#39;  // For Core TwowayView Functionality compile &#39;org.lucasr.twowayview:layouts:1.0.0-SNAPSHOT@aar&#39; // For Additional Layouts compile &#39;com.android.support:recyclerview-v7:21.0.0&#39;  // RecyclerView provided by Android compile &#39;com.squareup.picasso:picasso:2.4.0&#39;  // To make image Loading Easier compile &#39;me.neavo:volley:2014.10.9&#39; // Easy Networking compile &#39;com.android.support:appcompat-v7:21.0.0&#39; //Appcompact Lib for Campatibility } &lt;/code&gt;&lt;/pre&gt;  &lt;/li&gt;  &lt;div class=&quot;alert alert-warning&quot;&gt;&lt;strong&gt;Note:&lt;/strong&gt;TwoWayView is under development right now. Therefore we need to add snapshots of the library.&lt;/div&gt;  &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Creating a Singleton Class for proper Volley Functioning&lt;/strong&gt;&lt;/h4&gt; Under &lt;strong&gt;app&lt;/strong&gt; package create class named &lt;strong&gt;AppController.java&lt;/strong&gt;. This is a singleton class which initializes global instances of required classes. All the objects related to volley are initialized here. &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public class AppController extends Application {       public static final String TAG = AppController.class.getSimpleName();       private RequestQueue mRequestQueue;      private static AppController mInstance;       @Override     public void onCreate() {         super.onCreate();         mInstance = this;     }       public static synchronized AppController getInstance() {         return mInstance;     }       public RequestQueue getRequestQueue() {         if (mRequestQueue == null) {             mRequestQueue = Volley.newRequestQueue(getApplicationContext());         }           return mRequestQueue;     }      public &lt;T&gt; void addToRequestQueue(Request&lt;T&gt; req, String tag) {         req.setTag(TextUtils.isEmpty(tag) ? TAG : tag);         getRequestQueue().add(req);     }       public &lt;T&gt; void addToRequestQueue(Request&lt;T&gt; req) {         req.setTag(TAG);         getRequestQueue().add(req);     }       public void cancelPendingRequests(Object tag) {         if (mRequestQueue != null) {             mRequestQueue.cancelAll(tag);         }     } } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li&gt;&lt;h4&gt;&lt;strong&gt;Registering AppController.java in Android Manifest&lt;/strong&gt;&lt;/h4&gt; Now, In the &lt;strong&gt;androidmanifest.xml&lt;/strong&gt; add &lt;strong&gt;AppController&lt;/strong&gt; as &lt;strong&gt;name&lt;/strong&gt; in the &lt;strong&gt;Application&lt;/strong&gt; tag. &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;application     android:name=&quot;.AppController&quot;&gt; ....&lt;/application&gt; &lt;/code&gt;&lt;/pre&gt;  We&#39;ll also require permission to access Internet and Check Network State.Add them in the Manifest as well outside the application tag. &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt; &lt;/code&gt;&lt;/pre&gt; You&#39;re &lt;strong&gt;AndroidManifest.xml&lt;/strong&gt; should look like this.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;     package=&quot;com.quasar_academy.twowayview&quot; &gt; &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;     &lt;application         android:allowBackup=&quot;true&quot;         android:icon=&quot;@drawable/ic_launcher&quot;         android:label=&quot;@string/app_name&quot;         android:name=&quot;.AppController&quot;         android:theme=&quot;@style/AppTheme&quot; &gt;         &lt;activity             android:name=&quot;.MyActivity&quot;             android:label=&quot;@string/app_name&quot; &gt;             &lt;intent-filter&gt;                 &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;                  &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;             &lt;/intent-filter&gt;         &lt;/activity&gt;     &lt;/application&gt;  &lt;/manifest&gt; &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt;  &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Adding TwoWayView to the Fragment&lt;/strong&gt;&lt;/h4&gt;  Adding EditText and TwoWayView to the Fragment Layout &lt;strong&gt;fragment_my.xml&lt;/strong&gt;.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;     android:layout_width=&quot;match_parent&quot;     android:layout_height=&quot;match_parent&quot;     android:orientation=&quot;vertical&quot;     android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;&gt;     &lt;EditText         android:id=&quot;@+id/edit_recycler&quot;         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;wrap_content&quot; /&gt;      &lt;org.lucasr.twowayview.widget.TwoWayView         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;         xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;         android:id=&quot;@+id/list&quot;         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;wrap_content&quot;         style=&quot;@style/TwoWayView&quot;         app:twowayview_layoutManager=&quot;SpannableGridLayoutManager&quot;         app:twowayview_numColumns=&quot;3&quot;         app:twowayview_numRows=&quot;2&quot; /&gt;  &lt;/LinearLayout&gt; &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Creating The Layout of a single item&lt;/strong&gt;&lt;/h4&gt;  Create &lt;strong&gt;item.xml&lt;/strong&gt; in layout folder.This layout file represents each individual feed item row in the list view.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;     android:layout_width=&quot;match_parent&quot;     android:orientation=&quot;vertical&quot;     android:layout_height=&quot;match_parent&quot;&gt;     &lt;FrameLayout         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;match_parent&quot;&gt;         &lt;ImageView             android:id=&quot;@+id/featured_src&quot;             android:layout_width=&quot;match_parent&quot;             android:layout_height=&quot;match_parent&quot;             android:scaleType=&quot;centerCrop&quot;/&gt;     &lt;TextView         android:id=&quot;@+id/title&quot;         android:layout_width=&quot;match_parent&quot;         android:textStyle=&quot;bold&quot;         android:textSize=&quot;18sp&quot;         android:layout_gravity=&quot;bottom&quot;         android:layout_height=&quot;wrap_content&quot;         style=&quot;@style/StateText&quot;&gt;&lt;/TextView&gt;     &lt;/FrameLayout&gt;  &lt;/LinearLayout&gt; &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Creating the POJO Class&lt;/strong&gt;&lt;/h4&gt; Create a class named Product.java. This is a POJO class used to create objects for each feed item while parsing the JSON Data. The Product object contains information like id, title, description, image url. &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public class Product implements Serializable {     String featured_src;     String title;     String description;     int id;      public Product() {     }      public Product(String featured_src, String title, String description, int id) {         this.featured_src = featured_src;         this.title = title;         this.description = description;         this.id = id;     }      public String getFeatured_src() {         return featured_src;     }      public void setFeatured_src(String featured_src) {         this.featured_src = featured_src;     }      public String getTitle() {         return title;     }      public void setTitle(String title) {         this.title = title;     }      public String getDescription() {         return description;     }      public void setDescription(String description) {         this.description = description;     }      public int getId() {         return id;     }      public void setId(int id) {         this.id = id;     } } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li&gt; &lt;h4&gt;&lt;strong&gt;Setting Up ViewHolder&lt;/strong&gt;&lt;/h4&gt;  ViewHolders are basically caches of your View objects. You can Create your custom ViewHolder by extending RecyclerView.ViewHolder.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public static class SimpleViewHolder extends RecyclerView.ViewHolder {         public final TextView title;         public final ImageView featured_src;         public Product product;                  public SimpleViewHolder(View view) {             super(view);             title = (TextView) view.findViewById(R.id.title);             featured_src = (ImageView) view.findViewById(R.id.featured_src);          }         public void setData(Context mContext,Product product){             this.product=product;             if(title!=null)                title.setText(product.getTitle().toString());             if(featured_src!=null)                 Picasso.with(mContext).load(product.getFeatured_src()).into(featured_src);          }     } &lt;/code&gt;&lt;/pre&gt;  &lt;/li&gt; &lt;li&gt;&lt;h4&gt;&lt;strong&gt;Here Comes the Adapter&lt;/strong&gt;&lt;/h4&gt; Adapters has two roles: They provide access to the underlying data set and they are responsible for creating the correct layout for individual items.RecyclerView has replaced the old Adapter interface with a new RecyclerView.Adapter base class. RecyclerView.Adapter is an abstract so we will have to implement these three methods: &lt;ul class=&quot;list-group&quot;&gt;   &lt;li class=&quot;list-group-item&quot;&gt;public ViewH onCreateViewHolder(ViewGroup parent, int viewType)&lt;/li&gt;           &lt;li class=&quot;list-group-item&quot;&gt;public void onBindViewHolder(ViewH holder, int position)&lt;/li&gt;   &lt;li class=&quot;list-group-item&quot;&gt;public int getItemCount()&lt;/li&gt; &lt;/ul&gt; On Overiding these methods and Creating a method filter() to make RecyclerView Filterable we get the following class.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public class LayoutAdapter extends RecyclerView.Adapter&lt;LayoutAdapter.SimpleViewHolder&gt; {      private final Context mContext;     private final TwoWayView mRecyclerView;     private ArrayList&lt;Product&gt; arraylist;     private final int mLayoutId;     private List&lt;Product&gt; productlist = null;      public static class SimpleViewHolder extends RecyclerView.ViewHolder {         public final TextView title;         public final ImageView featured_src;         public Product product;          public SimpleViewHolder(View view) {             super(view);             title = (TextView) view.findViewById(R.id.title);             featured_src = (ImageView) view.findViewById(R.id.featured_src);          }         public void setData(Context mContext,Product product){             this.product=product;             if(title!=null)                title.setText(product.getTitle().toString());             if(featured_src!=null)                 Picasso.with(mContext).load(product.getFeatured_src()).into(featured_src);          }     }         public LayoutAdapter(Context context, TwoWayView recyclerView, int layoutId, List&lt;Product&gt; productlist) {         mContext = context;         this.productlist=productlist;         mRecyclerView = recyclerView;         mLayoutId = layoutId;         this.arraylist = new ArrayList&lt;Product&gt;();         this.arraylist.addAll(productlist);     }      //Function To filter RecyclerView    public void filter(String charText) {        charText = charText.toLowerCase(Locale.getDefault());        productlist.clear();        if (charText.length() == 0) {            productlist.addAll(arraylist);        }        else        {            for (Product wp : arraylist)            {                if (wp.getTitle().toLowerCase(Locale.getDefault()).contains(charText)||wp.getDescription().toLowerCase(Locale.getDefault()).contains(charText))                {                    productlist.add(wp);                }            }        }        notifyDataSetChanged();    }       @Override      public SimpleViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {         final View view = LayoutInflater.from(mContext).inflate(R.layout.item, parent, false);         return new SimpleViewHolder(view);     }          @Override      public void onBindViewHolder(SimpleViewHolder holder, int position) {          holder.setData(mContext,productlist.get(position));          boolean isVertical = (mRecyclerView.getOrientation() == TwoWayLayoutManager.Orientation.VERTICAL);          final View itemView = holder.itemView;          final int itemId = position;          if (mLayoutId == R.layout.fragment_my) {             final SpannableGridLayoutManager.LayoutParams lp =                     (SpannableGridLayoutManager.LayoutParams) itemView.getLayoutParams();                 final int span1 = (itemId == 0 || itemId == 3 ? 2 : 1);             final int span2 = (itemId == 0 ? 2 : (itemId == 3 ? 3 : 1));                 final int colSpan = (isVertical ? span2 : span1);             final int rowSpan = (isVertical ? span1 : span2);                 if (lp.rowSpan != rowSpan || lp.colSpan != colSpan) {                 lp.rowSpan = rowSpan;                 lp.colSpan = colSpan;                 itemView.setLayoutParams(lp);             }          }      }          @Override     public int getItemCount() {          return productlist.size();     } } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li&gt;&lt;h4&gt;&lt;strong&gt;Finally Initializing RecyclerView in the Fragment&lt;/strong&gt;&lt;/h4&gt; &lt;ul class=&quot;list-group&quot;&gt;   &lt;li class=&quot;list-group-item&quot;&gt;&lt;strong&gt;Initializing the RecyclerView.&lt;/strong&gt;  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;mRecyclerView = (TwoWayView) view.findViewById(R.id.list); mRecyclerView.setHasFixedSize(true); mRecyclerView.setHapticFeedbackEnabled(true); mRecyclerView.setLongClickable(true); mRecyclerView.setItemAnimator(new DefaultItemAnimator()); &lt;/code&gt;&lt;/pre&gt; The Above code Initializes the RecyclerView. Setting Fixed Sized to be &lt;strong&gt;True&lt;/strong&gt; increases the performance of RecyclerView. &lt;/li&gt;           &lt;li class=&quot;list-group-item&quot;&gt; &lt;strong&gt;Setting up ClickListeners&lt;/strong&gt; &lt;a href=&quot;http://quasar-academy.com/wp-content/uploads/2014/11/DFG_2014-11-23-12-35-43.png&quot;&gt;&lt;img src=&quot;http://quasar-academy.com/wp-content/uploads/2014/11/DFG_2014-11-23-12-35-43-605x1024.png&quot; alt=&quot;DFG_2014-11-23-12-35-43&quot; width=&quot;605&quot; height=&quot;1024&quot; class=&quot;alignnone size-large wp-image-666&quot; data-wp-pid=&quot;666&quot; /&gt;&lt;/a&gt; &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;final ItemClickSupport itemClick = ItemClickSupport.addTo(mRecyclerView);               itemClick.setOnItemClickListener(new ItemClickSupport.OnItemClickListener() {                 @Override                 public void onItemClick(RecyclerView parent, View child, int position, long id) {                     LayoutAdapter.SimpleViewHolder childViewHolder = (LayoutAdapter.SimpleViewHolder) parent.getChildViewHolder(child);                     mToast.setText(&quot;Clicked &quot; + childViewHolder.product.getTitle());                     mToast.show();                 }              });               itemClick.setOnItemLongClickListener(new ItemClickSupport.OnItemLongClickListener() {                 @Override                 public boolean onItemLongClick(RecyclerView parent, View child, int position, long id) {                     LayoutAdapter.SimpleViewHolder childViewHolder = (LayoutAdapter.SimpleViewHolder) parent.getChildViewHolder(child);                     mToast.setText(&quot;Long Clicked &quot;+childViewHolder.product.getDescription());                     mToast.show();                     return true;                 }             }); &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt;   &lt;li class=&quot;list-group-item&quot;&gt;Setting up ScrollListener &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;mRecyclerView.setOnScrollListener(new RecyclerView.OnScrollListener() {                 @Override                 public void onScrollStateChanged(RecyclerView recyclerView, int scrollState) {                  }                   @Override                 public void onScrolled(RecyclerView recyclerView, int i, int i2) {                     if(!(mRecyclerView.getFirstVisiblePosition()==0||mRecyclerView.getFirstVisiblePosition()&gt;0))                         mRecyclerView.scrollToPosition(0);                   }             }); &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li class=&quot;list-group-item&quot;&gt; &lt;strong&gt;Populating the View&lt;/strong&gt; Now hat all the listeners are set and view has been initialized, we move to populating the view. Firstly, Let&#39;s Load the data from the internet. Using methods provided in the Volley Library. In the following method we are sending GET request to the server and Listening to Response which is in JSON format. &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public void loadData(){             JsonObjectRequest jsonReq = new JsonObjectRequest(Request.Method.GET,                     &quot;http://quasar-academy.com/tutorial-server/recycler_json.php&quot;, null, new Response.Listener&lt;JSONObject&gt;() {                  @Override                 public void onResponse(JSONObject response) {                     VolleyLog.d(&quot;VOLLEY&quot;, &quot;Response: &quot; + response.toString());                     if (response != null) {                         parseJsonFeed(response);                     }                 }             }, new Response.ErrorListener() {                  @Override                 public void onErrorResponse(VolleyError error) {                     VolleyLog.d(&quot;VOLLEY&quot;, &quot;Error: &quot; + error.getMessage());                 }             });         if (isNetworkConnected())             AppController.getInstance().addToRequestQueue(jsonReq);         else {             editsearch.setEnabled(false);             mToast.setText(&quot;Connect To the Internet&quot;);             mToast.setDuration(Toast.LENGTH_LONG);             mToast.show();         }         } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt;&lt;li class=&quot;list-group-item&quot;&gt; &lt;strong&gt;Parsing JSON Feed&lt;/strong&gt; The JSON Received from the source is Like the one given below.  &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;{ &quot;products&quot;: [{                 &quot;featured_src&quot;:&quot;http://www.hdwallpapers.net/slider/img/car_wallpaper.jpg&quot;,                  &quot;title&quot;:&quot;Lamborghini&quot;,                 &quot;description&quot;:&quot;This is one of the Best Super Cars in the World.&quot;,                 &quot;id&quot;:1                      },{                  &quot;featured_src&quot;:&quot;http://www.androidcentral.com/sites/androidcentral.com/files/styles/w550h500/public/wallpapers/black-3d-tiles-vo4.jpg&quot;,                  &quot;title&quot;:&quot;Black Tiles&quot;,                 &quot;description&quot;:&quot;Black Tiles Wallpaper&quot;,                 &quot;id&quot;:2                      },{                  &quot;featured_src&quot;:&quot;http://3.bp.blogspot.com/-aJYmRwG0XDs/T4gASfTX-WI/AAAAAAAABrw/7qh_7j9USU0/s1600/Balck%2BWallpaper%2B%25284%2529.jpg&quot;,                  &quot;title&quot;:&quot;Black and White&quot;,                 &quot;description&quot;:&quot;Black White Wallpaper&quot;,                 &quot;id&quot;:3                      },                         ...                         ...                         ...                         ...                         ] } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li class=&quot;list-group-item&quot;&gt; &lt;strong&gt;To Retrieve Data from response we need to parse the JSON.&lt;/strong&gt; &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;private void parseJsonFeed(JSONObject response) {             try {                 JSONArray feedArray = response.getJSONArray(&quot;products&quot;);                  for (int i = 0; i &lt; feedArray.length(); i++) {                     JSONObject feedObj = (JSONObject) feedArray.get(i);                      Product item = new Product();                     item.setId(feedObj.getInt(&quot;id&quot;));                     item.setTitle(feedObj.getString(&quot;title&quot;));                     item.setDescription(feedObj.getString(&quot;description&quot;));                     item.setFeatured_src(feedObj.getString((&quot;featured_src&quot;)));                      arraylist.add(item);                     Log.d(&quot;LOAD DATA&quot;, item.getId() + &quot; &quot; + item.getTitle() + &quot; &quot; + item.getDescription());                 }                 adapter = new LayoutAdapter(getActivity(), mRecyclerView, mLayoutId,arraylist);                 mRecyclerView.setAdapter(adapter);              } catch (JSONException e) {                 e.printStackTrace();             }          } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;li class=&quot;list-group-item&quot;&gt; After Parsing the Complete Array of Products is added to the Adapter.  &lt;strong&gt;The Complete Code of the Fragment. &lt;/strong&gt; &lt;pre class=&quot;prettyprint linenums&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;public class PlaceholderFragment extends Fragment {          private TwoWayView mRecyclerView;         LayoutAdapter adapter;         private Toast mToast;         ArrayList&lt;Product&gt; arraylist = new ArrayList&lt;Product&gt;();         private int mLayoutId;         EditText editsearch;          @Override         public void onCreate(Bundle savedInstanceState) {             super.onCreate(savedInstanceState);             mLayoutId =  R.layout.fragment_my;         }           @Override         public View onCreateView(LayoutInflater inflater, ViewGroup container,                                  Bundle savedInstanceState) {             return inflater.inflate(mLayoutId, container, false);         }           @Override         public void onViewCreated(View view, Bundle savedInstanceState) {             super.onViewCreated(view, savedInstanceState);             final Activity activity = getActivity();              mToast = Toast.makeText(activity, &quot;&quot;, Toast.LENGTH_SHORT);             mToast.setGravity(Gravity.CENTER, 0, 0);              mRecyclerView = (TwoWayView) view.findViewById(R.id.list);             mRecyclerView.setHasFixedSize(true);             mRecyclerView.setHapticFeedbackEnabled(true);             mRecyclerView.setLongClickable(true);             mRecyclerView.setItemAnimator(new DefaultItemAnimator());              editsearch = (EditText) view.findViewById(R.id.edit_recycler);              // Capture Text in EditText             editsearch.addTextChangedListener(new TextWatcher() {                  @Override                 public void afterTextChanged(Editable arg0) {                     // TODO Auto-generated method stub                     String text = editsearch.getText().toString().toLowerCase(Locale.getDefault());                     adapter.filter(text);                 }                  @Override                 public void beforeTextChanged(CharSequence arg0, int arg1,                                               int arg2, int arg3) {                     // TODO Auto-generated method stub                 }                  @Override                 public void onTextChanged(CharSequence arg0, int arg1, int arg2,                                           int arg3) {                     // TODO Auto-generated method stub                 }             });              final ItemClickSupport itemClick = ItemClickSupport.addTo(mRecyclerView);               itemClick.setOnItemClickListener(new ItemClickSupport.OnItemClickListener() {                 @Override                 public void onItemClick(RecyclerView parent, View child, int position, long id) {                     LayoutAdapter.SimpleViewHolder childViewHolder = (LayoutAdapter.SimpleViewHolder) parent.getChildViewHolder(child);                     mToast.setText(&quot;Clicked &quot; + childViewHolder.product.getTitle());                     mToast.show();                 }              });               itemClick.setOnItemLongClickListener(new ItemClickSupport.OnItemLongClickListener() {                 @Override                 public boolean onItemLongClick(RecyclerView parent, View child, int position, long id) {                     LayoutAdapter.SimpleViewHolder childViewHolder = (LayoutAdapter.SimpleViewHolder) parent.getChildViewHolder(child);                     mToast.setText(&quot;Long Clicked &quot;+childViewHolder.product.getDescription());                     mToast.show();                     return true;                 }             });             mRecyclerView.setOnScrollListener(new RecyclerView.OnScrollListener() {                 @Override                 public void onScrollStateChanged(RecyclerView recyclerView, int scrollState) {                  }                   @Override                 public void onScrolled(RecyclerView recyclerView, int i, int i2) {                     if(!(mRecyclerView.getFirstVisiblePosition()==0||mRecyclerView.getFirstVisiblePosition()&gt;0))                         mRecyclerView.scrollToPosition(0);                   }             });             final Drawable divider = getResources().getDrawable(R.drawable.divider);             mRecyclerView.addItemDecoration(new DividerItemDecoration(divider));             loadData();          }          public void loadData(){             JsonObjectRequest jsonReq = new JsonObjectRequest(Request.Method.GET,                     &quot;http://quasar-academy.com/tutorial-server/recycler_json.php&quot;, null, new Response.Listener&lt;JSONObject&gt;() {                  @Override                 public void onResponse(JSONObject response) {                     VolleyLog.d(&quot;VOLLEY&quot;, &quot;Response: &quot; + response.toString());                     if (response != null) {                         parseJsonFeed(response);                     }                 }             }, new Response.ErrorListener() {                  @Override                 public void onErrorResponse(VolleyError error) {                     VolleyLog.d(&quot;VOLLEY&quot;, &quot;Error: &quot; + error.getMessage());                 }             });         if (isNetworkConnected())             AppController.getInstance().addToRequestQueue(jsonReq);         else {             editsearch.setEnabled(false);             mToast.setText(&quot;Connect To the Internet&quot;);             mToast.setDuration(Toast.LENGTH_LONG);             mToast.show();         }         }         public boolean isNetworkConnected() {             ConnectivityManager cm = (ConnectivityManager) getActivity()                     .getSystemService(Context.CONNECTIVITY_SERVICE);             NetworkInfo ni = cm.getActiveNetworkInfo();             if (ni == null) {                 // There are no active networks.                 return false;             } else                 return true;         }          private void parseJsonFeed(JSONObject response) {             try {                 JSONArray feedArray = response.getJSONArray(&quot;products&quot;);                  for (int i = 0; i &lt; feedArray.length(); i++) {                     JSONObject feedObj = (JSONObject) feedArray.get(i);                      Product item = new Product();                     item.setId(feedObj.getInt(&quot;id&quot;));                     item.setTitle(feedObj.getString(&quot;title&quot;));                     item.setDescription(feedObj.getString(&quot;description&quot;));                     item.setFeatured_src(feedObj.getString((&quot;featured_src&quot;)));                      arraylist.add(item);                     Log.d(&quot;LOAD DATA&quot;, item.getId() + &quot; &quot; + item.getTitle() + &quot; &quot; + item.getDescription());                 }                 adapter = new LayoutAdapter(getActivity(), mRecyclerView, mLayoutId,arraylist);                 mRecyclerView.setAdapter(adapter);              } catch (JSONException e) {                 e.printStackTrace();             }          }     } &lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt;&lt;h4&gt;&lt;strong&gt;Have Fun Programming your RecyclerView&lt;/strong&gt;&lt;/h4&gt;  The source code can be Downloaded from &lt;a href=&quot;https://github.com/quasar-academy/RecyclerView&quot; title=&quot;Github Repository&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;. If you Like Our Tutorials Please Do &lt;strong&gt;Subscribe&lt;/strong&gt;. &lt;/li&gt; &lt;/ol&gt;</td>

        
        <h1 class="brand-heading">&nbsp;</h1>
      	
      

        <div>

  <div style="float:left; padding: 0 5px; vertical-align:top">
    <div class="fb-share-button" data-href="https://cl305.github.io/blog/android/RecyclerView-Example/" data-layout="button_count"></div>
  </div>



  <div style="float:left; padding: 0 5px; vertical-align:top">
    <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://cl305.github.io/blog/android/RecyclerView-Example/" data-text="Android RecyclerView Made Easy: Twoway View #Android "></a>
</div>



  <div style="float:left; padding: 0 5px; vertical-align:top">
    <script type="text/javascript">reddit_newwindow='1'</script>
    <script type="text/javascript">reddit_title='Android RecyclerView Made Easy: Twoway View'</script>
    <script type="text/javascript">reddit_url='https://cl305.github.io//blog/android/RecyclerView-Example/'</script>
    <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
  </div>

</div>


        
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'prashantsolanki3';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      </div>
    </div>
  </section>

  <section id="Android RecyclerView Made Easy: Twoway View" class="container content-section text-center">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
	<ul class="list-inline social-buttons">
  
    <li><a href="https://github.com/cl305" target="_blank"><i class="fa fa-github fa-fw"></i></a></li>
  
    <li><a href="https://www.linkedin.com/in/cody-li-1127b9a4" target="_blank"><i class="fa fa-linkedin fa-fw"></i></a></li>
  
</ul>

      </div>
    </div>
  </section>

     <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Copyright &copy;  2015</p>
        </div>
    </footer>
	    <p><br /><br /><br /><br /><br /><br /></p>



  <!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script async src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/grayscale.min.js"></script>

<!-- Quotes -->
<script type="text/javascript">
  $( document ).ready(function() {

             
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex ;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

var colors = new Array(
  [136,171,117],
  [45,147,173],
  [125,124,132],
  [25,130,196],
  [138,201,38],
  [8,178,227],
  [64,78,77],
  [52,209,191]);
shuffle(colors);

var step = 0;

//color table indices for: 
// current color left
// next color left
// current color right
// next color right
var colorIndices = [0,1,2,3];

//transition speed
var gradientSpeed = 0.003;

function updateGradient()
{
  
  if ( $===undefined ) return;
  
var c0_0 = colors[colorIndices[0]];
var c0_1 = colors[colorIndices[1]];
var c1_0 = colors[colorIndices[2]];
var c1_1 = colors[colorIndices[3]];

var istep = 1 - step;
var r1 = Math.round(istep * c0_0[0] + step * c0_1[0]);
var g1 = Math.round(istep * c0_0[1] + step * c0_1[1]);
var b1 = Math.round(istep * c0_0[2] + step * c0_1[2]);
var color1 = "rgb("+r1+","+g1+","+b1+")";

var r2 = Math.round(istep * c1_0[0] + step * c1_1[0]);
var g2 = Math.round(istep * c1_0[1] + step * c1_1[1]);
var b2 = Math.round(istep * c1_0[2] + step * c1_1[2]);
var color2 = "rgb("+r2+","+g2+","+b2+")";

 $('#gradient').css({
   background: "-webkit-gradient(linear, left top, right top, from("+color1+"), to("+color2+"))"}).css({
    background: "-moz-linear-gradient(left, "+color1+" 0%, "+color2+" 100%)"});
  
  step += gradientSpeed;
  if ( step >= 1 )
  {
    step %= 1;
    colorIndices[0] = colorIndices[1];
    colorIndices[2] = colorIndices[3];
    
    //pick two new target color indices
    //do not pick the same as the current one
    colorIndices[1] = ( colorIndices[1] + Math.floor( 1 + Math.random() * (colors.length - 1))) % colors.length;
    colorIndices[3] = ( colorIndices[3] + Math.floor( 1 + Math.random() * (colors.length - 1))) % colors.length;
    
  }
}

setInterval(updateGradient,5);
});
</script>

<!-- Get Repos From Github -->
<script type="text/javascript">
$( document ).ready(function() {
  $.ajax({
  url: "https://api.github.com/users/cl305/repos?sort=created",
  cache: true,
  crossDomain: true

})
  .done(function( data ) {
    createList(data);
  });

 String.prototype.trunc =
     function(n,useWordBoundary){
         var toLong = this.length>n,
             s_ = toLong ? this.substr(0,n-1) : this;
         s_ = useWordBoundary && toLong ? s_.substr(0,s_.lastIndexOf(' ')) : s_;
         return  toLong ? s_ + '&hellip;' : s_;
      };

function createList (data) {
   // clear the existing list
  $("#repo-list").html("");
  $.each(data, function(index,obj) {
if(index>2-1){
  return false;
}

    var formattedDate = new Date(obj.created_at);

var d = formattedDate.getDate();
var m =  formattedDate.getMonth();
  // JavaScript months are 0-11
var y = formattedDate.getFullYear();
 var description =   "No description";
 if (obj.description) {
  description=obj.description.trunc(50,true);
 }

    $('#repo-list').append('<div class="col-lg-6" style="paddinG:5px;"><h4><strong> <a href="'+obj.svn_url+'" target="_blank">'+obj.name+' </a> </strong><br/><br/><strong> '+getFormattedDate(d + "/" + m + "/" + y)+' </strong><small>. '+obj.language+' </small><small><ul style="padding-top: 10px" class="list-inline"><li><a><i class="fa fa-star fa-fw"></i> '+obj.stargazers_count+'</a></li><li><a><i class="fa fa-eye fa-fw"></i> '+obj.watchers_count+'</a></li></ul></small></h4><p>'+ description +' </p></div>');
    
  }); 

  function getFormattedDate(input){
    var pattern=/(.*?)\/(.*?)\/(.*?)$/;
    var result = input.replace(pattern,function(match,p1,p2,p3){
        var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
        return (p1<10?"0"+p1:p1)+" "+months[(p2-1)]+" "+p3;
    });
    return(result);
}
}

$("table").addClass("table");

 });
</script>








  <!-- Share buttons -->

  
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  

  
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3";
    fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
  

  <!-- Disqus -->

  
    <script type="text/javascript">
    var disqus_shortname = 'codyli';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
  





  <!-- Comments counter -->

  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'codyli'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
  </script>


<!-- Dynamic Typing Start -->

<script type="text/javascript" src="/js/typed.js"></script>
<script type="text/javascript">

$( document ).ready(function() {

var myQuotes =  new Array();

      myQuotes.push("Hey, I'm Cody.");
 
      myQuotes.push("They don't think it be like it is, but it do. - Oscar Gamble");
 

function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex ;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}



  $(".intro-text").typed({
                strings: myQuotes,
                typeSpeed: 10,
                backDelay: 5000,
                startDelay: 200,
                loop: true,
                loopCount: false,
                cursorChar: "|"
              });
});
</script>


<!-- Dynamic Typing End  -->



  </body>
</html>
